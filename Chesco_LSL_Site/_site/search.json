[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Chesco_LSL_Site",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites.\n\nlibrary(sf)\n\nLinking to GEOS 3.11.2, GDAL 3.7.2, PROJ 9.3.0; sf_use_s2() is TRUE\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(tidycensus)\nlibrary(tigris)\n\nTo enable caching of data, set `options(tigris_use_cache = TRUE)`\nin your R script or .Rprofile.\n\nlibrary(leaflet)\nlibrary(leaflet.extras)\n\ncensus_api_key(\"e13d5be5cb48d927009e0dca0af99d21918d514f\", overwrite = TRUE)\n\nTo install your API key for use in future sessions, run this function with `install = TRUE`.\n\noptions(scipen = 999)\n\nname &lt;- \"West Chester\"\n\ncodes &lt;- c(\"R-10\", # R - Single Family/Cabin\n           \"R-20\", # R - Two Family\n           \"R-30\", # R - Multi Family/Dorms/Single\n           \"R-40\", # A - Apartments (4-19 Units)\n           \"R-50\", # R - Condominium\n           \"R-55\", # R - Town House (Common Law Condo)\n           \"R-60\", # R - Dwelling W/Comm Use Primary R\n           \"R-61\", # C - Dwelling W/Comm Use Primary C\n           \"R-90\") # A - Apt Complex (20 or more units\n\nmobile &lt;- c(\"R-70\", # R - Mobile Home\n            \"T-10\", # R - Trailers and Mobile Homes\n            \"C-92\") # C - Mobile Home Parks (4+)\n\ndat_raw &lt;- read_csv(\"data/chesco_characteristics_4.2024.csv\") \n\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 209653 Columns: 95\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (28): PARID, BOOK, DATE_LAST_SALE, RESTRICT1, OWNER, OWNER2, ADRDIR, ADR...\ndbl (63): TAXYR, CARD, PAGE, CONSIDERATION, STEB, ASSESSMENT, MUNI, ADRNO, Z...\nlgl  (4): COMM_USE_TYPE, COMM_BASEMENT, COMM_PART, TOPO3\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\ndat &lt;- dat_raw %&gt;%\n  dplyr::filter(LUC %in% codes) %&gt;%\n  dplyr::filter(WATER == 1) %&gt;%\n  select(PARID, LUC_desc, YRBLT, COMM_YRBLT, X_CO, Y_CO, situs)\n\ndat &lt;- dat[!is.na(dat$X_CO),]\n\npoints &lt;- st_as_sf(dat, coords = c(\"X_CO\", \"Y_CO\"), crs = \"EPSG:2272\") %&gt;%\n  st_transform(crs=\"EPSG:4326\") \n\npoints &lt;- points %&gt;% \n  mutate(year = dplyr::coalesce(YRBLT, COMM_YRBLT)) %&gt;%\n  mutate(if1991 = \n           case_when(year &lt; 1991 ~ \"Before 1991\",\n                     year &gt;= 1991 ~ \"1991 or Later\"\n                     ),\n         yearGroup = \n           case_when(year &gt; 2010 ~ \"2011-2022\",\n                     year &gt;= 2001 & year &lt; 2011 ~ \"2001-2010\",\n                     year &gt;= 1991 & year &lt; 2001 ~ \"1991-2000\",\n                     year &gt;= 1981 & year &lt; 1991 ~ \"1981-1990\",\n                     year &gt;= 1971 & year &lt; 1981 ~ \"1971-1980\",\n                     year &gt;= 1961 & year &lt; 1971 ~ \"1961-1970\",\n                     year &gt;= 1951 & year &lt; 1961 ~ \"1951-1960\",\n                     year &lt; 1951 ~ \"1950 or older\"\n                     )\n         ) %&gt;%\n  select(-YRBLT, -COMM_YRBLT)\n\npoints2 &lt;- dat_raw %&gt;% \n  dplyr::filter(LUC %in% mobile) %&gt;%\n  dplyr::filter(WATER == 1) %&gt;%\n  select(PARID, LUC_desc, X_CO, Y_CO, situs) %&gt;%\n  na.omit()\n\npoints2 &lt;- points2 %&gt;%\n  st_as_sf(., coords = c(\"X_CO\", \"Y_CO\"), crs = \"EPSG:2272\") %&gt;%\n  st_transform(crs=\"EPSG:4326\")\n\nchester &lt;- counties(state = 42) %&gt;%\n  dplyr::filter(NAME == \"Chester\")%&gt;%\n  st_transform(crs=\"EPSG:4326\") \n\nRetrieving data for the year 2022\n\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |                                                                      |   1%\n  |                                                                            \n  |=                                                                     |   1%\n  |                                                                            \n  |=                                                                     |   2%\n  |                                                                            \n  |==                                                                    |   2%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |==                                                                    |   4%\n  |                                                                            \n  |===                                                                   |   4%\n  |                                                                            \n  |===                                                                   |   5%\n  |                                                                            \n  |====                                                                  |   5%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |=====                                                                 |   6%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |=====                                                                 |   8%\n  |                                                                            \n  |======                                                                |   8%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |=======                                                               |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |=======                                                               |  11%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |========                                                              |  12%\n  |                                                                            \n  |=========                                                             |  12%\n  |                                                                            \n  |=========                                                             |  13%\n  |                                                                            \n  |=========                                                             |  14%\n  |                                                                            \n  |==========                                                            |  14%\n  |                                                                            \n  |==========                                                            |  15%\n  |                                                                            \n  |===========                                                           |  15%\n  |                                                                            \n  |===========                                                           |  16%\n  |                                                                            \n  |============                                                          |  17%\n  |                                                                            \n  |============                                                          |  18%\n  |                                                                            \n  |=============                                                         |  18%\n  |                                                                            \n  |=============                                                         |  19%\n  |                                                                            \n  |==============                                                        |  19%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |==============                                                        |  21%\n  |                                                                            \n  |===============                                                       |  21%\n  |                                                                            \n  |===============                                                       |  22%\n  |                                                                            \n  |================                                                      |  23%\n  |                                                                            \n  |================                                                      |  24%\n  |                                                                            \n  |=================                                                     |  24%\n  |                                                                            \n  |=================                                                     |  25%\n  |                                                                            \n  |==================                                                    |  25%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |===================                                                   |  27%\n  |                                                                            \n  |===================                                                   |  28%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |====================                                                  |  29%\n  |                                                                            \n  |=====================                                                 |  29%\n  |                                                                            \n  |=====================                                                 |  30%\n  |                                                                            \n  |=====================                                                 |  31%\n  |                                                                            \n  |======================                                                |  31%\n  |                                                                            \n  |======================                                                |  32%\n  |                                                                            \n  |=======================                                               |  32%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |========================                                              |  35%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |==========================                                            |  36%\n  |                                                                            \n  |==========================                                            |  37%\n  |                                                                            \n  |==========================                                            |  38%\n  |                                                                            \n  |===========================                                           |  38%\n  |                                                                            \n  |===========================                                           |  39%\n  |                                                                            \n  |============================                                          |  39%\n  |                                                                            \n  |============================                                          |  40%\n  |                                                                            \n  |============================                                          |  41%\n  |                                                                            \n  |=============================                                         |  41%\n  |                                                                            \n  |=============================                                         |  42%\n  |                                                                            \n  |==============================                                        |  42%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |==============================                                        |  44%\n  |                                                                            \n  |===============================                                       |  44%\n  |                                                                            \n  |===============================                                       |  45%\n  |                                                                            \n  |================================                                      |  45%\n  |                                                                            \n  |================================                                      |  46%\n  |                                                                            \n  |=================================                                     |  46%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |=================================                                     |  48%\n  |                                                                            \n  |==================================                                    |  48%\n  |                                                                            \n  |==================================                                    |  49%\n  |                                                                            \n  |===================================                                   |  49%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |===================================                                   |  51%\n  |                                                                            \n  |====================================                                  |  51%\n  |                                                                            \n  |====================================                                  |  52%\n  |                                                                            \n  |=====================================                                 |  52%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |=====================================                                 |  54%\n  |                                                                            \n  |======================================                                |  54%\n  |                                                                            \n  |======================================                                |  55%\n  |                                                                            \n  |=======================================                               |  55%\n  |                                                                            \n  |=======================================                               |  56%\n  |                                                                            \n  |========================================                              |  56%\n  |                                                                            \n  |========================================                              |  57%\n  |                                                                            \n  |========================================                              |  58%\n  |                                                                            \n  |=========================================                             |  58%\n  |                                                                            \n  |=========================================                             |  59%\n  |                                                                            \n  |==========================================                            |  59%\n  |                                                                            \n  |==========================================                            |  60%\n  |                                                                            \n  |==========================================                            |  61%\n  |                                                                            \n  |===========================================                           |  61%\n  |                                                                            \n  |===========================================                           |  62%\n  |                                                                            \n  |============================================                          |  63%\n  |                                                                            \n  |============================================                          |  64%\n  |                                                                            \n  |=============================================                         |  64%\n  |                                                                            \n  |=============================================                         |  65%\n  |                                                                            \n  |==============================================                        |  65%\n  |                                                                            \n  |==============================================                        |  66%\n  |                                                                            \n  |===============================================                       |  66%\n  |                                                                            \n  |===============================================                       |  67%\n  |                                                                            \n  |===============================================                       |  68%\n  |                                                                            \n  |================================================                      |  68%\n  |                                                                            \n  |================================================                      |  69%\n  |                                                                            \n  |=================================================                     |  69%\n  |                                                                            \n  |=================================================                     |  70%\n  |                                                                            \n  |=================================================                     |  71%\n  |                                                                            \n  |==================================================                    |  71%\n  |                                                                            \n  |==================================================                    |  72%\n  |                                                                            \n  |===================================================                   |  72%\n  |                                                                            \n  |===================================================                   |  73%\n  |                                                                            \n  |===================================================                   |  74%\n  |                                                                            \n  |====================================================                  |  74%\n  |                                                                            \n  |====================================================                  |  75%\n  |                                                                            \n  |=====================================================                 |  75%\n  |                                                                            \n  |=====================================================                 |  76%\n  |                                                                            \n  |======================================================                |  77%\n  |                                                                            \n  |======================================================                |  78%\n  |                                                                            \n  |=======================================================               |  78%\n  |                                                                            \n  |=======================================================               |  79%\n  |                                                                            \n  |========================================================              |  79%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |========================================================              |  81%\n  |                                                                            \n  |=========================================================             |  81%\n  |                                                                            \n  |=========================================================             |  82%\n  |                                                                            \n  |==========================================================            |  82%\n  |                                                                            \n  |==========================================================            |  83%\n  |                                                                            \n  |==========================================================            |  84%\n  |                                                                            \n  |===========================================================           |  84%\n  |                                                                            \n  |===========================================================           |  85%\n  |                                                                            \n  |============================================================          |  85%\n  |                                                                            \n  |============================================================          |  86%\n  |                                                                            \n  |=============================================================         |  86%\n  |                                                                            \n  |=============================================================         |  87%\n  |                                                                            \n  |=============================================================         |  88%\n  |                                                                            \n  |==============================================================        |  88%\n  |                                                                            \n  |==============================================================        |  89%\n  |                                                                            \n  |===============================================================       |  90%\n  |                                                                            \n  |================================================================      |  91%\n  |                                                                            \n  |================================================================      |  92%\n  |                                                                            \n  |=================================================================     |  92%\n  |                                                                            \n  |=================================================================     |  93%\n  |                                                                            \n  |=================================================================     |  94%\n  |                                                                            \n  |==================================================================    |  94%\n  |                                                                            \n  |==================================================================    |  95%\n  |                                                                            \n  |===================================================================   |  95%\n  |                                                                            \n  |===================================================================   |  96%\n  |                                                                            \n  |====================================================================  |  96%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |====================================================================  |  98%\n  |                                                                            \n  |===================================================================== |  98%\n  |                                                                            \n  |===================================================================== |  99%\n  |                                                                            \n  |======================================================================|  99%\n  |                                                                            \n  |======================================================================| 100%\n\nmunicipalities &lt;- county_subdivisions(42, county = \"Chester\") %&gt;%\n  st_transform(crs=\"EPSG:4326\") \n\nRetrieving data for the year 2022\n\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |=========                                                             |  12%\n  |                                                                            \n  |=========                                                             |  13%\n  |                                                                            \n  |===============                                                       |  21%\n  |                                                                            \n  |===============                                                       |  22%\n  |                                                                            \n  |================                                                      |  22%\n  |                                                                            \n  |================                                                      |  23%\n  |                                                                            \n  |================                                                      |  24%\n  |                                                                            \n  |=================                                                     |  24%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |===================                                                   |  27%\n  |                                                                            \n  |===================                                                   |  28%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |=====================                                                 |  30%\n  |                                                                            \n  |=====================                                                 |  31%\n  |                                                                            \n  |======================                                                |  31%\n  |                                                                            \n  |======================                                                |  32%\n  |                                                                            \n  |=======================                                               |  32%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |=======================                                               |  34%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |=========================                                             |  35%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |==========================                                            |  37%\n  |                                                                            \n  |==========================                                            |  38%\n  |                                                                            \n  |===========================                                           |  38%\n  |                                                                            \n  |===========================                                           |  39%\n  |                                                                            \n  |============================                                          |  39%\n  |                                                                            \n  |============================                                          |  40%\n  |                                                                            \n  |=============================                                         |  41%\n  |                                                                            \n  |=============================                                         |  42%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |===============================                                       |  44%\n  |                                                                            \n  |==================================                                    |  49%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |===================================                                   |  51%\n  |                                                                            \n  |====================================                                  |  51%\n  |                                                                            \n  |=====================================                                 |  52%\n  |                                                                            \n  |========================================                              |  58%\n  |                                                                            \n  |===========================================                           |  62%\n  |                                                                            \n  |=================================================                     |  70%\n  |                                                                            \n  |==================================================                    |  71%\n  |                                                                            \n  |===================================================                   |  73%\n  |                                                                            \n  |=====================================================                 |  75%\n  |                                                                            \n  |=====================================================                 |  76%\n  |                                                                            \n  |======================================================                |  77%\n  |                                                                            \n  |======================================================                |  78%\n  |                                                                            \n  |=======================================================               |  78%\n  |                                                                            \n  |=======================================================               |  79%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |=========================================================             |  81%\n  |                                                                            \n  |==========================================================            |  82%\n  |                                                                            \n  |============================================================          |  86%\n  |                                                                            \n  |=============================================================         |  87%\n  |                                                                            \n  |=============================================================         |  88%\n  |                                                                            \n  |==============================================================        |  88%\n  |                                                                            \n  |==============================================================        |  89%\n  |                                                                            \n  |===============================================================       |  89%\n  |                                                                            \n  |===============================================================       |  90%\n  |                                                                            \n  |================================================================      |  91%\n  |                                                                            \n  |================================================================      |  92%\n  |                                                                            \n  |=================================================================     |  92%\n  |                                                                            \n  |=================================================================     |  93%\n  |                                                                            \n  |==================================================================    |  94%\n  |                                                                            \n  |==================================================================    |  95%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |======================================================================| 100%\n\ntown &lt;- municipalities %&gt;%\n  dplyr::filter(NAME == name) %&gt;%\n  st_transform(crs=\"EPSG:4326\") \n\n# Create a palette that maps factor levels to colors\npal1 &lt;- colorFactor(c(\"#0057e5\", \n                      \"#e50000\"), \n                   domain = c(\"1991 or Later\", \n                              \"Before 1991\")\n                   )\n\npal2 &lt;- colorFactor(c(\"#003b5c\", \n                      \"#0057e5\",\n                      \"#41b6e6\",\n                      \"#3ea908\",\n                      \"#f0cc2e\",\n                      \"#ec894d\",\n                      \"#e50000\",\n                      \"#e641b6\"),\n                    domain = c(\"1950 or older\",\n                               \"1951-1960\",\n                               \"1961-1970\",\n                               \"1971-1980\",\n                               \"1981-1990\",\n                               \"1991-2000\",\n                               \"2001-2010\",\n                               \"2011-2022\"))\n\npal3 &lt;- colorFactor(\"viridis\", domain = NULL)\n\n\nleaflet(width = \"100%\") %&gt;%\n  addProviderTiles(providers$CartoDB.Positron) %&gt;%\n  setView(lng = town$INTPTLON, \n          lat = town$INTPTLAT,\n          zoom = 8) %&gt;%\n  addPolygons(data = chester,\n              weight = 2,\n              opacity = .5,\n              color = \"black\",\n              fillOpacity = .01) %&gt;%\n  addLayersControl(baseGroups = c(\"Pre- or Post-1991\", \"Year Category\", \"Mobile or Trailer Homes\"),\n                   options = layersControlOptions(collapsed = FALSE,),\n                   position = \"topright\"\n                   ) %&gt;%\n  addCircleMarkers(data = points,\n                   radius = 4,\n                   weight = 2,\n                   opacity = .8,\n                   stroke = TRUE,\n                   color = ~pal1(if1991),\n                   popup = ~paste(\"Address:\", situs,\n                                  \"&lt;br&gt;Year Built:\", year,\n                                  \"&lt;br&gt;Zoning:\", LUC_desc\n                                  ),\n                   group = \"Pre- or Post-1991\"\n                   ) %&gt;%\n  addLegend(pal = pal1, \n            data = points,\n            values = ~if1991,\n            group = \"Pre- or Post-1991\",\n            position = \"topright\",\n            title = \"Year Built\",\n            layerId = \"Pre- or Post-1991\"\n            ) %&gt;%\n  addCircleMarkers(data = points,\n                   radius = 4,\n                   weight = 2,\n                   opacity = .8,\n                   stroke = TRUE,\n                   color = ~pal2(yearGroup),\n                   popup = ~paste(\"Address:\", situs,\n                                  \"&lt;br&gt;Year Built:\", year,\n                                  \"&lt;br&gt;Zoning:\", LUC_desc\n                                  ),\n                   group = \"Year Category\"\n                   ) %&gt;%\n  addLegend(pal = pal2, \n            data = points, \n            values = ~yearGroup, \n            group = \"Year Category\", \n            position = \"topright\",\n            title = \"Year Built\",\n            layerId = \"Year Category\"\n            ) %&gt;%\n  addCircleMarkers(data = points2,\n                   radius = 4,\n                   weight = 2,\n                   opacity = .8,\n                   stroke = TRUE,\n                   popup = ~paste(\"Address:\", situs,\n                                  \"&lt;br&gt;Zoning:\", LUC_desc\n                                  ),\n                   group = \"Mobile or Trailer Homes\"\n                   ) %&gt;%  \n  leaflet.extras::addResetMapButton() %&gt;%\n  htmlwidgets::onRender(\"\n    function(el, x) {\n      var initialLegend = 'Pre- or Post-1991' // Set the initial legend to be displayed by layerId\n      var myMap = this;\n      for (var legend in myMap.controls._controlsById) {\n        var el = myMap.controls.get(legend.toString())._container;\n        if(legend.toString() === initialLegend) {\n          el.style.display = 'block';\n        } else {\n          el.style.display = 'none';\n        };\n      };\n    myMap.on('baselayerchange',\n      function (layer) {\n        for (var legend in myMap.controls._controlsById) {\n          var el = myMap.controls.get(legend.toString())._container;\n          if(legend.toString() === layer.name) {\n            el.style.display = 'block';\n          } else {\n            el.style.display = 'none';\n          };\n        };\n      });\n    }\") #https://gist.github.com/noamross/98c2053d81085517e686407096ec0a69"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  }
]